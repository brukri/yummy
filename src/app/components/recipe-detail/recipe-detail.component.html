<div>
  <div *ngIf="recipeDetail" data-test-selector="recipe-detail-component">
    <h1 data-test-selector="recipe-detail-title">{{recipeDetail.title}}</h1>
    <div *ngIf="recipeDetail.preparationMinutes && recipeDetail.cookingMinutes" fxLayout="column" fxLayoutGap="1em">
      <app-step-duration [step]="'Preparation'" [duration]="recipeDetail.preparationMinutes"></app-step-duration>
      <app-step-duration [step]="'Cooking'" [duration]="recipeDetail.cookingMinutes"></app-step-duration>
    </div>
    <mat-button-toggle *ngIf="shouldDisplayFavoriteButton()" [checked]="isFavorite" (change)="onFavoriteChange(value)"
      class="favorite-button">
      <mat-icon>favorite</mat-icon>
    </mat-button-toggle>
    <div fxLayout="column">
      <div fxLayout="row" fxLayout.lt-lg="column" fxLayoutGap="2em">
        <ingredients-list fxFlex="25%" [ingredients]="recipeDetail.ingredients" data-test-selector="recipe-detail-ingredients-list"></ingredients-list>
        <app-post-it-note>
          <img src={{recipeDetail.image}} data-test-selector="recipe-detail-img" />
        </app-post-it-note>
        <instructions-list fxFlex="<grow>" [instructions]="recipeDetail.instructions" data-test-selector="recipe-detail-instructions-list"></instructions-list>
      </div>
      <div fxLayout="row" fxLayout.lt-lg="column" fxLayoutGap="2em">
        <recipe-attributes fxFlex="25%" [recipeAttributes]="recipeDetail.recipeAttributes" data-test-selector="recipe-detail-attributes"></recipe-attributes>
        <app-additional-information fxFlex="<grow>" [winePairing]="recipeDetail.winePairing" [nutrition$]="nutrition$" (nutritionPanelOpenEvent)="onNutritionPanelOpen()"></app-additional-information>
      </div>
    </div>
  </div>
  <mat-spinner *ngIf="isLoading"></mat-spinner>
</div>